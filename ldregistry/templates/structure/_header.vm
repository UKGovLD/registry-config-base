## Common header for all pages.
## Imports all the css, plus core jquery.
##
## Optional configuration parameters which can be set on the calling page:
##   $pageTitle   - title of the page, defaults to the resgistry name : uri
##   $extraCSS    - comma-separated list of additional css files from ui/assets to load
##   $extraCSSRaw - comma-separated list of additional css files (absolute URIs)
##
## Input parameters:
##   $uri     - the requested URI, relative to the registry root (generated by registry-core)
##
## Exported parameters
##   $root        - the (server-relative) root URL for the page
##   $uiroot      - the (server-relative) root URL for all ui pages
##   $assets      - the (server-relative) root URL for all ui assets

#set($root=$registry.rootPath)
#set($uiroot="$root/ui")
#set($assets="$uiroot/assets")

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <title>#if($pageTitle) $pageTitle #else #if ($registry.configExtensions.registryName) $registry.configExtensions.registryName #else Registry #end #if($uri): $uri#end #end</title>

    <link href="$assets/css/reg-style.css" rel="stylesheet" />

    <link href="$assets/css/plugins/dataTables/dataTables.bootstrap.css" rel="stylesheet" />
    <link href="$assets/font-awesome/css/font-awesome.css" rel="stylesheet" />

    <link type="text/css" rel="stylesheet" href="$assets/css/ui.css" />
    <link type="text/css" rel="stylesheet" href="$assets/css/jquery.dataTables.min.css" />
    <link href="$assets/css/bootstrap-editable.css" rel="stylesheet"/>

    #if($extraCSS)
      #foreach($file in $extraCSS.split(","))
        <link type="text/css" rel="stylesheet" href="$assets/css/$file" />
      #end
    #end

    #if($extraCSSRaw)
      #foreach($file in $extraCSS.split(","))
        <link type="text/css" rel="stylesheet" href="$file" />
      #end
    #end

    <script type="text/javascript" src="$assets/js/jquery-1.12.0.min.js"></script>
    <script type="text/javascript" src="$assets/js/jquery.form.js"></script>
  </head>

  <body>
